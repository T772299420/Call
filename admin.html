<!DOCTYPE html>
<html>
<head>
    <title>اختبار الصورة</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body style="padding: 20px; text-align: center; font-family: Arial;">
    <h1>اختبار تحميل الصورة</h1>
    <img id="testImage" src="https://drive.usercontent.google.com/download?id=144OyxlH79Pi8qEXvRps5I0MUOu1jxsgF&authuser=0" 
         alt="صورة اختبار" style="max-width: 100%; height: auto; border: 2px solid #ddd; margin: 20px 0;">
    <div id="result" style="padding: 15px; margin: 10px; border-radius: 5px;"></div>
    
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const img = document.getElementById('testImage');
            const resultDiv = document.getElementById('result');
            
            img.onload = function() {
                resultDiv.innerHTML = '<p style="color: green; background: #e8f5e8; padding: 10px;">✅ الصورة تم تحميلها بنجاح</p>';
                resultDiv.innerHTML += `<p>أبعاد الصورة: ${img.naturalWidth} × ${img.naturalHeight} بكسل</p>`;
            };
            
            img.onerror = function() {
                resultDiv.innerHTML = '<p style="color: red; background: #ffebee; padding: 10px;">❌ فشل تحميل الصورة</p>';
                resultDiv.innerHTML += '<p>السبب المحتمل: رابط غير صحيح أو مشكلة في الخادم</p>';
            };
            
            // اختبار إضافي باستخدام fetch
            fetch('https://drive.usercontent.google.com/download?id=144OyxlH79Pi8qEXvRps5I0MUOu1jxsgF&authuser=0')
                .then(response => {
                    resultDiv.innerHTML += `<p>رمز الاستجابة: ${response.status} ${response.statusText}</p>`;
                    if (!response.ok) {
                        throw new Error('فشل في تحميل الصورة');
                    }
                    return response.blob();
                })
                .then(blob => {
                    resultDiv.innerHTML += `<p>حجم الملف: ${Math.round(blob.size / 1024)} كيلوبايت</p>`;
                    resultDiv.innerHTML += `<p>نوع الملف: ${blob.type}</p>`;
                })
                .catch(error => {
                    resultDiv.innerHTML += `<p style="color: orange;">تحذير: ${error.message}</p>`;
                });
        });
    </script>
</body>
</html>
